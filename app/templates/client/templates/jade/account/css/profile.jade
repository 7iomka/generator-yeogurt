extends ../layouts/one-column

block content
    .container
        .row
            .page-header
                h3 Profile Information

            form.form-horizontal(action='/user/#{user.username}/profile?_method=PUT', method='post')<% if (useSecurity) { %>
                input(type='hidden', name='_csrf', value=_csrf)<% } %>
                .form-group
                    label.col-sm-2.control-label(for='email') Username
                    .col-sm-4
                        p.form-control-static= user.username
                .form-group
                    label.col-sm-2.control-label(for='email') Email
                    .col-sm-4
                        input.form-control(type='email', name='email', id='email', value=user.email)
                .form-group
                    label.col-sm-2.control-label(for='firstName') First Name
                    .col-sm-4
                        input.form-control(type='text', name='firstName', id='firstName', value=user.firstName)
                .form-group
                    label.col-sm-2.control-label(for='lastName') Last Name
                    .col-sm-4
                        input.form-control(type='text', name='lastName', id='lastName', value=user.lastName)
                .form-group
                    label.col-sm-2.control-label(for='gender') Gender
                    .col-sm-4
                        label.radio
                            input(type='radio', checked=user.gender=='male', name='gender', value='male', data-toggle='radio')
                            span Male
                        label.radio
                            input(type='radio', checked=user.gender=='female', name='gender', value='female', data-toggle='radio')
                            span Female
                .form-group
                    label.col-sm-2.control-label(for='location') Location
                    .col-sm-4
                        input.form-control(type='text', name='location', id='location', value=user.location)
                .form-group
                    label.col-sm-2.control-label(for='website') Website
                    .col-sm-4
                        input.form-control(type='text', name='website', id='website', value=user.website)
                .form-group
                    label.col-sm-2.control-label(for='gravatar') Gravatar
                    .col-sm-4
                        img(src=user.picture || 'https://gravatar.com/avatar/?s=200&d=retro', class='profile', width='100', height='100')
                .form-group
                    .col-sm-offset-2.col-sm-4
                        button.btn.btn.btn-primary
                            span.ion-edit
                            | Update Profile

            .page-header
                h3 Change Password

            form.form-horizontal(action='/user/#{user.username}/password?_method=PUT', method='post')<% if (useSecurity) { %>
                input(type='hidden', name='_csrf', value=_csrf)<% } %>
                .form-group
                    label.col-sm-3.control-label(for='password') New Password
                    .col-sm-4
                        input.form-control(type='password', name='password', id='password')
                .form-group
                    label.col-sm-3.control-label(for='confirmPassword') Confirm Password
                    .col-sm-4
                        input.form-control(type='password', name='confirmPassword', id='confirmPassword')
                .form-group
                    .col-sm-offset-3.col-sm-4
                        button.btn.btn.btn-primary
                            span.ion-locked
                            | Change Password

            .page-header
                h3 Delete Account

            p You can delete your account, but keep in mind this action is irreversible.
            form(action='/user/#{user.username}?_method=DELETE', method='post')<% if (useAuth) { %>
                input(type='hidden', name='_csrf', value=_csrf)<% } %>
                button.btn.btn-danger
                    span.ion-trash-b
                    | Delete my account<% if (authTypes.indexOf('facebook') > -1 || authTypes.indexOf('twitter') > -1) { %>

            .page-header
                h3 Linked Accounts<% if (authTypes.indexOf('facebook') > -1) { %>

            if user.facebook
                p: a.text-danger(href='/auth/unlink/facebook') Unlink your Facebook account
            else
                p: a(href='/auth/facebook') Link your Facebook account

            <% } %><% if (authTypes.indexOf('facebook') > -1) { %>if user.twitter
                p: a.text-danger(href='/auth/unlink/twitter') Unlink your Twitter account
            else
                p: a(href='/auth/twitter') Link your Twitter account<% } %><% } %>
